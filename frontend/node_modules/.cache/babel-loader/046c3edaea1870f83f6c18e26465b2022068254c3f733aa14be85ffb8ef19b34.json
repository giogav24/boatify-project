{"ast":null,"code":"import store from \"@/store/index\";\nexport default {\n  data() {\n    return {\n      loading: true,\n      datiUtente: store.getters\n    };\n  },\n  mounted() {\n    if (store.state.token) {\n      this.authenticated = true;\n    }\n  },\n  methods: {\n    async getDatiUtente(event) {\n      event.preventDefault();\n      try {\n        // Sostituisci con l'URL corretto della tua API\n        const response = await fetch(`${process.env.VUE_APP_SERVER_API_URL}/api/${process.env.VUE_APP_API_VERSION}/auth/getDatiUtente`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: this.email\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          this.datiUtente = data.datiUtente;\n        } else {\n          console.error(\"Errore nel recupero dei dati dell'utente:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Errore nel recupero dei dati dell'utente:\", error.message);\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["store","data","loading","datiUtente","getters","mounted","state","token","authenticated","methods","getDatiUtente","event","preventDefault","response","fetch","process","env","VUE_APP_SERVER_API_URL","VUE_APP_API_VERSION","method","headers","body","JSON","stringify","email","json","success","console","error","message"],"sources":["/Users/giogav/Desktop/boatify/boatify-project/frontend/src/components/ProfiloUtente.vue"],"sourcesContent":["<template>\n  <div class=\"profilo-container\">\n    <h1>Dati Utente</h1>\n    <div v-if=\"loading\">Caricamento...</div>\n    <div v-else>\n      <div><strong>Nome:</strong> {{ datiUtente.nome }}</div>\n      <div><strong>Cognome:</strong> {{ datiUtente.cognome }}</div>\n      <div><strong>Email:</strong> {{ datiUtente.email }}</div>\n      <div><strong>Ruolo:</strong> {{ datiUtente.ruolo }}</div>\n      <div>\n        <strong>Numero di Telefono:</strong> {{ datiUtente.numero_di_telefono }}\n      </div>\n      <div>\n        <strong>Patenti:</strong>\n        <ul>\n          <li v-for=\"patente in datiUtente.patenti\" :key=\"patente._id\">\n            {{ patente.tipo }}\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"@/store/index\";\n\nexport default {\n  data() {\n    return {\n      loading: true,\n      datiUtente: store.getters,\n    };\n  },\n  mounted() {\n    if (store.state.token) {\n      this.authenticated = true\n    }\n  },\n  methods: {\n    async getDatiUtente(event) {\n      event.preventDefault();\n      try {\n        // Sostituisci con l'URL corretto della tua API\n        const response = await fetch(\n          `${process.env.VUE_APP_SERVER_API_URL}/api/${process.env.VUE_APP_API_VERSION}/auth/getDatiUtente`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email: this.email }),\n          }\n        );\n\n        const data = await response.json();\n\n        if (data.success) {\n          this.datiUtente = data.datiUtente;\n        } else {\n          console.error(\n            \"Errore nel recupero dei dati dell'utente:\",\n            data.message\n          );\n        }\n      } catch (error) {\n        console.error(\n          \"Errore nel recupero dei dati dell'utente:\",\n          error.message\n        );\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Aggiungi stili se necessario */\n</style>\n"],"mappings":"AAyBA,OAAOA,KAAI,MAAO,eAAe;AAEjC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,IAAI;MACbC,UAAU,EAAEH,KAAK,CAACI;IACpB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAIL,KAAK,CAACM,KAAK,CAACC,KAAK,EAAE;MACrB,IAAI,CAACC,aAAY,GAAI,IAAG;IAC1B;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAACC,KAAK,EAAE;MACzBA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,IAAI;QACF;QACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CACzB,GAAEC,OAAO,CAACC,GAAG,CAACC,sBAAuB,QAAOF,OAAO,CAACC,GAAG,CAACE,mBAAoB,qBAAoB,EACjG;UACEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEC,KAAK,EAAE,IAAI,CAACA;UAAM,CAAC;QAC5C,CACF,CAAC;QAED,MAAMvB,IAAG,GAAI,MAAMY,QAAQ,CAACY,IAAI,CAAC,CAAC;QAElC,IAAIxB,IAAI,CAACyB,OAAO,EAAE;UAChB,IAAI,CAACvB,UAAS,GAAIF,IAAI,CAACE,UAAU;QACnC,OAAO;UACLwB,OAAO,CAACC,KAAK,CACX,2CAA2C,EAC3C3B,IAAI,CAAC4B,OACP,CAAC;QACH;MACF,EAAE,OAAOD,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CACX,2CAA2C,EAC3CA,KAAK,CAACC,OACR,CAAC;MACH,UAAU;QACR,IAAI,CAAC3B,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}