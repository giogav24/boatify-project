{"ast":null,"code":"import { createStore } from \"vuex\";\n\n// Crea una nuova istanza dello store.\nconst store = createStore({\n  state() {\n    return {\n      user: \"\",\n      cognome: \"\",\n      email: \"\",\n      token: \"\",\n      isLoggedIn: false // Aggiunto nuovo campo per indicare se l'utente è loggato\n    };\n  },\n  mutations: {\n    setToken(state, payload) {\n      state.user = payload.user;\n      state.email = payload.email;\n      state.token = payload.token;\n      state.isLoggedIn = true; // Imposta isLoggedIn a true quando l'utente effettua il login\n\n      // Salva le informazioni di login in localStorage\n      localStorage.setItem(\"loginInfo\", JSON.stringify(payload));\n    },\n    clearToken(state) {\n      state.user = \"\";\n      state.email = \"\";\n      state.token = \"\";\n      state.isLoggedIn = false; // Imposta isLoggedIn a false quando l'utente effettua il logout\n\n      // Rimuovi le informazioni di login da localStorage\n      localStorage.removeItem(\"loginInfo\");\n    }\n  },\n  actions: {\n    initializeStore({\n      commit\n    }) {\n      const loginInfo = localStorage.getItem(\"loginInfo\");\n      if (loginInfo) {\n        const {\n          user,\n          email,\n          token\n        } = JSON.parse(loginInfo);\n        commit(\"setToken\", {\n          user,\n          email,\n          token\n        });\n      }\n    }\n    // Aggiungi altre azioni se necessario\n  },\n  getters: {\n    getToken: state => {\n      return state.token;\n    },\n    getUser: state => {\n      return state.user;\n    },\n    getEmail: state => {\n      return state.email;\n    },\n    isLoggedIn: state => {\n      return state.isLoggedIn; // Getter per verificare se l'utente è loggato\n    }\n    // Aggiungi altri getter se necessario\n  }\n});\n\n// Inizializza lo store quando l'applicazione parte\nstore.dispatch(\"initializeStore\");\nexport default store;","map":{"version":3,"names":["createStore","store","state","user","cognome","email","token","isLoggedIn","mutations","setToken","payload","localStorage","setItem","JSON","stringify","clearToken","removeItem","actions","initializeStore","commit","loginInfo","getItem","parse","getters","getToken","getUser","getEmail","dispatch"],"sources":["/Users/giogav/Desktop/boatify/boatify-project/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\n\n// Crea una nuova istanza dello store.\nconst store = createStore({\n  state() {\n    return {\n      user: \"\",\n      cognome: \"\",\n      email: \"\",\n      \n      token: \"\",\n      isLoggedIn: false, // Aggiunto nuovo campo per indicare se l'utente è loggato\n    };\n  },\n  mutations: {\n    setToken(state, payload) {\n      state.user = payload.user;\n      state.email = payload.email;\n      state.token = payload.token;\n      state.isLoggedIn = true; // Imposta isLoggedIn a true quando l'utente effettua il login\n\n      // Salva le informazioni di login in localStorage\n      localStorage.setItem(\"loginInfo\", JSON.stringify(payload));\n    },\n    clearToken(state) {\n      state.user = \"\";\n      state.email = \"\";\n      state.token = \"\";\n      state.isLoggedIn = false; // Imposta isLoggedIn a false quando l'utente effettua il logout\n\n      // Rimuovi le informazioni di login da localStorage\n      localStorage.removeItem(\"loginInfo\");\n    },\n  },\n  actions: {\n    initializeStore({ commit }) {\n      const loginInfo = localStorage.getItem(\"loginInfo\");\n      if (loginInfo) {\n        const { user, email, token } = JSON.parse(loginInfo);\n        commit(\"setToken\", { user, email, token });\n      }\n    },\n    // Aggiungi altre azioni se necessario\n  },\n  getters: {\n    getToken: (state) => {\n      return state.token;\n    },\n    getUser: (state) => {\n      return state.user;\n    },\n    getEmail: (state) => {\n      return state.email;\n    },\n    isLoggedIn: (state) => {\n      return state.isLoggedIn; // Getter per verificare se l'utente è loggato\n    },\n    // Aggiungi altri getter se necessario\n  },\n});\n\n// Inizializza lo store quando l'applicazione parte\nstore.dispatch(\"initializeStore\");\n\nexport default store;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;;AAElC;AACA,MAAMC,KAAK,GAAGD,WAAW,CAAC;EACxBE,KAAKA,CAAA,EAAG;IACN,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MAETC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,KAAK,CAAE;IACrB,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAACP,KAAK,EAAEQ,OAAO,EAAE;MACvBR,KAAK,CAACC,IAAI,GAAGO,OAAO,CAACP,IAAI;MACzBD,KAAK,CAACG,KAAK,GAAGK,OAAO,CAACL,KAAK;MAC3BH,KAAK,CAACI,KAAK,GAAGI,OAAO,CAACJ,KAAK;MAC3BJ,KAAK,CAACK,UAAU,GAAG,IAAI,CAAC,CAAC;;MAEzB;MACAI,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAC,CAAC;IAC5D,CAAC;IACDK,UAAUA,CAACb,KAAK,EAAE;MAChBA,KAAK,CAACC,IAAI,GAAG,EAAE;MACfD,KAAK,CAACG,KAAK,GAAG,EAAE;MAChBH,KAAK,CAACI,KAAK,GAAG,EAAE;MAChBJ,KAAK,CAACK,UAAU,GAAG,KAAK,CAAC,CAAC;;MAE1B;MACAI,YAAY,CAACK,UAAU,CAAC,WAAW,CAAC;IACtC;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAC1B,MAAMC,SAAS,GAAGT,YAAY,CAACU,OAAO,CAAC,WAAW,CAAC;MACnD,IAAID,SAAS,EAAE;QACb,MAAM;UAAEjB,IAAI;UAAEE,KAAK;UAAEC;QAAM,CAAC,GAAGO,IAAI,CAACS,KAAK,CAACF,SAAS,CAAC;QACpDD,MAAM,CAAC,UAAU,EAAE;UAAEhB,IAAI;UAAEE,KAAK;UAAEC;QAAM,CAAC,CAAC;MAC5C;IACF;IACA;EACF,CAAC;EACDiB,OAAO,EAAE;IACPC,QAAQ,EAAGtB,KAAK,IAAK;MACnB,OAAOA,KAAK,CAACI,KAAK;IACpB,CAAC;IACDmB,OAAO,EAAGvB,KAAK,IAAK;MAClB,OAAOA,KAAK,CAACC,IAAI;IACnB,CAAC;IACDuB,QAAQ,EAAGxB,KAAK,IAAK;MACnB,OAAOA,KAAK,CAACG,KAAK;IACpB,CAAC;IACDE,UAAU,EAAGL,KAAK,IAAK;MACrB,OAAOA,KAAK,CAACK,UAAU,CAAC,CAAC;IAC3B;IACA;EACF;AACF,CAAC,CAAC;;AAEF;AACAN,KAAK,CAAC0B,QAAQ,CAAC,iBAAiB,CAAC;AAEjC,eAAe1B,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}