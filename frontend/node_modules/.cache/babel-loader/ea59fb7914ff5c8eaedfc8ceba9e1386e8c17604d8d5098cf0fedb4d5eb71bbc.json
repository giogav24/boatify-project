{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '../assets/logo.png';\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-center mb-8\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-4xl font-bold text-white\"\n}, \"BOATIFY\"), /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Logo BOATIFY\",\n  class: \"mt-4\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0,\n  class: \"alert alert-danger m-4\",\n  role: \"alert\"\n};\nconst _hoisted_4 = [\"textContent\"];\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Email\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"small\", {\n  id: \"emailHelp\",\n  class: \"form-text text-muted\"\n}, \"We'll never share your email with anyone else.\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputPassword1\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"form\", _hoisted_1, [_hoisted_2, _ctx.error.status ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"h1\", {\n    textContent: _toDisplayString(_ctx.error.message)\n  }, null, 8 /* PROPS */, _hoisted_4)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control\",\n    placeholder: \"Inserisci la tua email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.user.email = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.user.email]]), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.user.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.user.password]])]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.login && _ctx.login(...args))\n  }, \"Login\"), _createElementVNode(\"p\", _hoisted_10, [_createTextVNode(\" Non hai ancora un account? \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Registrazione'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Registrati\")]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","key","role","id","for","_createElementBlock","_hoisted_1","_hoisted_2","_ctx","error","status","_hoisted_3","textContent","_toDisplayString","message","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","type","placeholder","_cache","$event","user","email","_hoisted_7","_hoisted_8","_hoisted_9","password","onClick","args","login","_hoisted_10","_createTextVNode","_createVNode","_component_router_link","to","name","default","_withCtx","_"],"sources":["/Users/giogav/Desktop/boatify/boatify-project/frontend/src/components/Login.vue"],"sourcesContent":["<template>\n  <form class=\"container\">\n    <div class=\"text-center mb-8\">\n      <h1 class=\"text-4xl font-bold text-white\">BOATIFY</h1>\n      <img src=\"../assets/logo.png\" alt=\"Logo BOATIFY\" class=\"mt-4\" />\n    </div>\n    <div v-if=\"error.status\" class=\"alert alert-danger m-4\" role=\"alert\">\n      <h1 v-text=\"error.message\"></h1>\n    </div>\n    <div class=\"form-group\">\n      <label>Email</label>\n      <input\n        type=\"email\"\n        class=\"form-control\"\n        placeholder=\"Inserisci la tua email\"\n        v-model=\"user.email\"\n      />\n      <small id=\"emailHelp\" class=\"form-text text-muted\"\n        >We'll never share your email with anyone else.</small\n      >\n    </div>\n    <div class=\"form-group\">\n      <label for=\"exampleInputPassword1\">Password</label>\n      <input\n        type=\"password\"\n        class=\"form-control\"\n        id=\"exampleInputPassword1\"\n        placeholder=\"Password\"\n        v-model=\"user.password\"\n      />\n    </div>\n    <button class=\"btn btn-primary\" @click=\"login\">Login</button>\n    <p class=\"mt-3\">\n      Non hai ancora un account?\n      <router-link :to=\"{ name: 'Registrazione' }\">Registrati</router-link>\n    </p>\n  </form>\n</template>\n\n<script>\n//import { config } from \"@/config\";\nimport { defineComponent } from \"vue\";\nimport store from \"@/store/index\";\n//import router from \"@/router\";\n\nexport default defineComponent({\n  name: \"LoginForm\",\n  data() {\n    return {\n      user: {\n        email: \"\",\n        password: \"\",\n      },\n      error: {\n        status: false,\n        message: \"default message\",\n      },\n    };\n  },\n  methods: {\n    async login(event) {\n      event.preventDefault();\n      //console.log(\"request received\")\n      const opzioniRichiesta = {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.user),\n      };\n      //console.log(opzioniRichiesta.body);\n      try {\n        const res = await fetch(\n          `${process.env.VUE_APP_SERVER_API_URL}/api/${process.env.VUE_APP_API_VERSION}/auth/loginUtente`,\n          opzioniRichiesta\n        );\n        const data = await res.json();\n\n        console.log(data);\n        if (data.success) {\n          //console.log('user logged in ' + data.nome)\n          store.commit(\"setToken\", {\n            user: data.nome,\n            email: data.email,\n            token: data.token,\n          });\n          //router.push({ name: \"Dashboard\" });\n        } else {\n          //console.log(\"something went wrong\")\n          this.error.status = true;\n          this.error.message =\n            data?.error || data?.message || \"Unexpected error\";\n        }\n      } catch (error) {\n        this.error.status = true;\n        this.error.message = error || \"Errore inaspettato\";\n      }\n    },\n  },\n});\n</script>\n<style scoped></style>\n"],"mappings":";OAIWA,UAAwB;;EAH3BC,KAAK,EAAC;AAAW;gCACrBC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAkB,I,aAC3BC,mBAAA,CAAsD;EAAlDD,KAAK,EAAC;AAA+B,GAAC,SAAO,G,aACjDC,mBAAA,CAAgE;EAA3DC,GAAwB,EAAxBH,UAAwB;EAACI,GAAG,EAAC,cAAc;EAACH,KAAK,EAAC;;;EAJ7DI,GAAA;EAM6BJ,KAAK,EAAC,wBAAwB;EAACK,IAAI,EAAC;;mBANjE;;EASSL,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAoB,eAAb,OAAK;gCAOZA,mBAAA,CAEN;EAFaK,EAAE,EAAC,WAAW;EAACN,KAAK,EAAC;GACzB,gDAA8C;;EAG9CA,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAmD;EAA5CM,GAAG,EAAC;AAAuB,GAAC,UAAQ;;EAU1CP,KAAK,EAAC;AAAM;;;uBA/BjBQ,mBAAA,CAmCO,QAnCPC,UAmCO,GAlCLC,UAGM,EACKC,IAAA,CAAAC,KAAK,CAACC,MAAM,I,cAAvBL,mBAAA,CAEM,OAFNM,UAEM,GADJb,mBAAA,CAAgC;IAPtCc,WAAA,EAOUC,gBAAA,CAAsBL,IAAd,CAAAC,KAAK,CAACK,OAAO;0BAP/BC,UAAA,E,KAAAC,mBAAA,gBASIlB,mBAAA,CAWM,OAXNmB,UAWM,GAVJC,UAAoB,E,gBACpBpB,mBAAA,CAKE;IAJAqB,IAAI,EAAC,OAAO;IACZtB,KAAK,EAAC,cAAc;IACpBuB,WAAW,EAAC,wBAAwB;IAd5C,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAeiBd,IAAA,CAAAe,IAAI,CAACC,KAAK,GAAAF,MAAA;iDAAVd,IAAA,CAAAe,IAAI,CAACC,KAAK,E,GAErBC,UAEN,C,GAEI3B,mBAAA,CASM,OATN4B,UASM,GARJC,UAAmD,E,gBACnD7B,mBAAA,CAME;IALAqB,IAAI,EAAC,UAAU;IACftB,KAAK,EAAC,cAAc;IACpBM,EAAE,EAAC,uBAAuB;IAC1BiB,WAAW,EAAC,UAAU;IA3B9B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA4BiBd,IAAA,CAAAe,IAAI,CAACK,QAAQ,GAAAN,MAAA;iDAAbd,IAAA,CAAAe,IAAI,CAACK,QAAQ,E,KAG1B9B,mBAAA,CAA6D;IAArDD,KAAK,EAAC,iBAAiB;IAAEgC,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAS,IAAA,KAAEtB,IAAA,CAAAuB,KAAA,IAAAvB,IAAA,CAAAuB,KAAA,IAAAD,IAAA,CAAK;KAAE,OAAK,GACpDhC,mBAAA,CAGI,KAHJkC,WAGI,GAnCRC,gBAAA,CAgCoB,8BAEd,GAAAC,YAAA,CAAqEC,sBAAA;IAAvDC,EAAE,EAAE;MAAAC,IAAA;IAAA;EAAyB;IAlCjDC,OAAA,EAAAC,QAAA,CAkCmD,MAAU,CAlC7DN,gBAAA,CAkCmD,YAAU,E;IAlC7DO,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}