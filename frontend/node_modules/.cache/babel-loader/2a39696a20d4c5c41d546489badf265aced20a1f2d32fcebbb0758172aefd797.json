{"ast":null,"code":"export default {\n  data() {\n    return {\n      loading: true,\n      datiUtente: null\n    };\n  },\n  created() {\n    // Chiamata API per ottenere i dati dell'utente\n    this.getDatiUtente();\n  },\n  methods: {\n    async getDatiUtente(event) {\n      event.preventDefault();\n      try {\n        // Sostituisci con l'URL corretto della tua API\n        const response = await fetch(`${process.env.VUE_APP_SERVER_API_URL}/api/${process.env.VUE_APP_API_VERSION}/auth/getDatiUtente`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: this.email\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          this.datiUtente = data.datiUtente;\n        } else {\n          console.error('Errore nel recupero dei dati dell\\'utente:', data.message);\n        }\n      } catch (error) {\n        console.error('Errore nel recupero dei dati dell\\'utente:', error.message);\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","loading","datiUtente","created","getDatiUtente","methods","event","preventDefault","response","fetch","process","env","VUE_APP_SERVER_API_URL","VUE_APP_API_VERSION","method","headers","body","JSON","stringify","email","json","success","console","error","message"],"sources":["/Users/giogav/Desktop/boatify/boatify-project/frontend/src/components/Profilo.vue"],"sourcesContent":["<template>\n    <div class=\"profilo-container\">\n        <h1>Dati Utente</h1>\n        <div v-if=\"loading\">Caricamento...</div>\n        <div v-else>\n            <div>\n                <strong>Nome:</strong> {{ datiUtente.nome }}\n            </div>\n            <div>\n                <strong>Cognome:</strong> {{ datiUtente.cognome }}\n            </div>\n            <div>\n                <strong>Email:</strong> {{ datiUtente.email }}\n            </div>\n            <div>\n                <strong>Ruolo:</strong> {{ datiUtente.ruolo }}\n            </div>\n            <div>\n                <strong>Numero di Telefono:</strong> {{ datiUtente.numero_di_telefono }}\n            </div>\n            <div>\n                <strong>Patenti:</strong>\n                <ul>\n                    <li v-for=\"patente in datiUtente.patenti\" :key=\"patente._id\">{{ patente.tipo }}</li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            loading: true,\n            datiUtente: null,\n        };\n    },\n    created() {\n        // Chiamata API per ottenere i dati dell'utente\n        this.getDatiUtente();\n    },\n    methods: {\n        async getDatiUtente(event) {\n            event.preventDefault();\n            try {\n                // Sostituisci con l'URL corretto della tua API\n                const response = await fetch(`${process.env.VUE_APP_SERVER_API_URL}/api/${process.env.VUE_APP_API_VERSION}/auth/getDatiUtente`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({ email : this.email}),\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    this.datiUtente = data.datiUtente;\n                } else {\n                    console.error('Errore nel recupero dei dati dell\\'utente:', data.message);\n                }\n            } catch (error) {\n                console.error('Errore nel recupero dei dati dell\\'utente:', error.message);\n            } finally {\n                this.loading = false;\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n/* Aggiungi stili se necessario */\n</style>\n"],"mappings":"AA+BA,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE,IAAI;MACbC,UAAU,EAAE;IAChB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN;IACA,IAAI,CAACC,aAAa,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,aAAaA,CAACE,KAAK,EAAE;MACvBA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,IAAI;QACA;QACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,sBAAuB,QAAOF,OAAO,CAACC,GAAG,CAACE,mBAAoB,qBAAoB,EAAE;UAC5HC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACL,cAAc,EAAE;UACpB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEC,KAAI,EAAI,IAAI,CAACA;UAAK,CAAC;QAC9C,CAAC,CAAC;QAEF,MAAMnB,IAAG,GAAI,MAAMQ,QAAQ,CAACY,IAAI,CAAC,CAAC;QAElC,IAAIpB,IAAI,CAACqB,OAAO,EAAE;UACd,IAAI,CAACnB,UAAS,GAAIF,IAAI,CAACE,UAAU;QACrC,OAAO;UACHoB,OAAO,CAACC,KAAK,CAAC,4CAA4C,EAAEvB,IAAI,CAACwB,OAAO,CAAC;QAC7E;MACJ,EAAE,OAAOD,KAAK,EAAE;QACZD,OAAO,CAACC,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAACC,OAAO,CAAC;MAC9E,UAAU;QACN,IAAI,CAACvB,OAAM,GAAI,KAAK;MACxB;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}