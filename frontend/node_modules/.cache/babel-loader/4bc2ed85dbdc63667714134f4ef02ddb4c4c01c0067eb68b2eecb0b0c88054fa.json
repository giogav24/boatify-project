{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { config } from '@/config';\nimport router from '@/router';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Registrazione',\n  data() {\n    return {\n      user: {\n        nome: '',\n        cognome: '',\n        nr_telefono: '',\n        data_nascita: '',\n        email: '',\n        password: '',\n        conferma_password: '',\n        ruolo: '' // Imposta il ruolo di default\n      },\n      error: {\n        status: false,\n        message: 'default error message'\n      }\n    };\n  },\n  methods: {\n    async registrazione() {\n      if (this.user.password !== this.user.conferma_password) {\n        this.error.status = true;\n        this.error.message = 'Le password inserite non coincidono!';\n        return;\n      }\n      const opzioniRichiesta = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.user)\n      };\n      try {\n        const res = await fetch(`/api/${config.API_VERSION}/auth/registraUtente`, opzioniRichiesta);\n        const data = await res.json();\n        if (data.success) {\n          router.push({\n            name: 'Login'\n          });\n        } else {\n          this.error.status = true;\n          this.error.message = data?.error || data?.message || 'Unexpected error';\n        }\n      } catch (error) {\n        this.error.status = true;\n        this.error.message = error.message || 'Failed to fetch';\n      }\n    }\n  }\n});","map":{"version":3,"names":["config","router","defineComponent","name","data","user","nome","cognome","nr_telefono","data_nascita","email","password","conferma_password","ruolo","error","status","message","methods","registrazione","opzioniRichiesta","method","headers","body","JSON","stringify","res","fetch","API_VERSION","json","success","push"],"sources":["/Users/giogav/Desktop/boatify/boatify-project/frontend/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"text-center mb-8\">\n    <h1 class=\"text-4xl font-bold text-white\">BOATIFY</h1>\n    <img src=\"../images/boatify_logo.png\" alt=\"Logo BOATIFY\" class=\"mt-4\">\n  </div>\n<form @submit.prevent=\"registerUser\">\n  <div class=\"mb-3\">\n    <label for=\"nome\" class=\"form-label\">Nome</label>\n    <input v-model=\"user.nome\" type=\"text\" class=\"form-control\" id=\"nome\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"cognome\" class=\"form-label\">Cognome</label>\n    <input v-model=\"user.cognome\" type=\"text\" class=\"form-control\" id=\"cognome\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"prefisso\" class=\"form-label\">Prefisso</label>\n    <select v-model=\"user.prefisso\" class=\"form-select\" id=\"prefisso\">\n      <!-- Opzioni del prefisso (es. +39 per l'Italia) -->\n    </select>\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"nr_telefono\" class=\"form-label\">Numero di telefono</label>\n    <div class=\"input-group\">\n      <span class=\"input-group-text\" id=\"prefisso-addon\">+{{ user.prefisso }}</span>\n      <input v-model=\"user.nr_telefono\" type=\"text\" class=\"form-control\" id=\"nr_telefono\">\n    </div>\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"data_nascita\" class=\"form-label\">Data di nascita (YYYY-MM-DD)</label>\n    <input v-model=\"user.data_nascita\" type=\"text\" class=\"form-control\" id=\"data_nascita\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"email\" class=\"form-label\">Email</label>\n    <input v-model=\"user.email\" type=\"email\" class=\"form-control\" id=\"email\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"password\" class=\"form-label\">Password</label>\n    <input v-model=\"user.password\" type=\"password\" class=\"form-control\" id=\"password\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"conferma_password\" class=\"form-label\">Conferma password</label>\n    <input v-model=\"user.conferma_password\" type=\"conferma_password\" class=\"form-control\" id=\"conferma_password\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"ruolo\" class=\"form-label\">Ruolo</label>\n    <select v-model=\"user.ruolo\" class=\"form-select\" id=\"ruolo\">\n      <option value=\"Proprietario\">Proprietario</option>\n      <option value=\"Noleggiatore\">Noleggiatore</option>\n    </select>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary\">Registrati</button>\n</form>\n</template>\n\n<script>\n\nimport { config } from '@/config'\nimport router from '@/router'\nimport { defineComponent } from 'vue'\n\n      \n\nexport default defineComponent({\nname: 'Registrazione',\ndata() {\n  return {\n    user: {\n      nome: '',\n      cognome: '',\n      nr_telefono: '',\n      data_nascita: '',\n      email: '',\n      password: '',\n      conferma_password: '',\n      ruolo: '', // Imposta il ruolo di default\n    },\n    error: {\n      status: false,\n      message: 'default error message',\n    },\n  }\n},\nmethods: {\n  async registrazione() {\n    if (this.user.password !== this.user.conferma_password) {\n      this.error.status = true\n      this.error.message = 'Le password inserite non coincidono!'\n      return\n    }\n\n    const opzioniRichiesta = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(this.user),\n    }\n\n    try {\n      const res = await fetch(`/api/${config.API_VERSION}/auth/registraUtente`, opzioniRichiesta)\n      const data = await res.json()\n\n      if (data.success) {\n        router.push({ name: 'Login' })\n      } else {\n        this.error.status = true\n        this.error.message = data?.error || data?.message || 'Unexpected error'\n      }\n    } catch (error) {\n      this.error.status = true\n      this.error.message = error.message || 'Failed to fetch'\n    }\n  },\n},\n})  \n</script>\n\n<style scoped>\n/* Aggiungi stili personalizzati se necessario */\n</style>\n\n"],"mappings":";AAwDA,SAASA,MAAK,QAAS,UAAS;AAChC,OAAOC,MAAK,MAAO,UAAS;AAC5B,SAASC,eAAc,QAAS,KAAI;AAIpC,eAAeA,eAAe,CAAC;EAC/BC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAE,EAAE;QACfC,YAAY,EAAE,EAAE;QAChBC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,iBAAiB,EAAE,EAAE;QACrBC,KAAK,EAAE,EAAE,CAAE;MACb,CAAC;MACDC,KAAK,EAAE;QACLC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;MACX;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI,IAAI,CAACb,IAAI,CAACM,QAAO,KAAM,IAAI,CAACN,IAAI,CAACO,iBAAiB,EAAE;QACtD,IAAI,CAACE,KAAK,CAACC,MAAK,GAAI,IAAG;QACvB,IAAI,CAACD,KAAK,CAACE,OAAM,GAAI,sCAAqC;QAC1D;MACF;MAEA,MAAMG,gBAAe,GAAI;QACvBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACnB,IAAI;MAChC;MAEA,IAAI;QACF,MAAMoB,GAAE,GAAI,MAAMC,KAAK,CAAE,QAAO1B,MAAM,CAAC2B,WAAY,sBAAqB,EAAER,gBAAgB;QAC1F,MAAMf,IAAG,GAAI,MAAMqB,GAAG,CAACG,IAAI,CAAC;QAE5B,IAAIxB,IAAI,CAACyB,OAAO,EAAE;UAChB5B,MAAM,CAAC6B,IAAI,CAAC;YAAE3B,IAAI,EAAE;UAAQ,CAAC;QAC/B,OAAO;UACL,IAAI,CAACW,KAAK,CAACC,MAAK,GAAI,IAAG;UACvB,IAAI,CAACD,KAAK,CAACE,OAAM,GAAIZ,IAAI,EAAEU,KAAI,IAAKV,IAAI,EAAEY,OAAM,IAAK,kBAAiB;QACxE;MACF,EAAE,OAAOF,KAAK,EAAE;QACd,IAAI,CAACA,KAAK,CAACC,MAAK,GAAI,IAAG;QACvB,IAAI,CAACD,KAAK,CAACE,OAAM,GAAIF,KAAK,CAACE,OAAM,IAAK,iBAAgB;MACxD;IACF;EACF;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}